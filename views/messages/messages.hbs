<section
  class="bg-header h-full flex flex-col justify-center items-center border-t-2"
>

  <div class="bg-section p-12 rounded flex">

    {{#if messages}}
      <table>

        <th>
          <tr>
            <th class="text-xl font-bold text-color">
              User
            </th>
            <th class="text-xl font-bold text-color">
              Subject
            </th>
            <th class="hidden md:block text-xl font-bold text-color">
              Message
            </th>
          </tr>
        </th>
        <tbody>
          {{#each messages}}
            <tr class="border-b-2">
              <td class="">
                {{this.sender.username}}
              </td>
              <td class="">
                <a href="/{{this._id}}" class="mx-16">{{this.subject}}</a>

              </td>
              <td class="hidden md:block">
                <p>
                  {{this.message}}
                </p>
              </td>
              <td>
                <form action="/{{this._id}}/delete" method="post">
                  <button
                    class="font-bold text-red-400 hover:text-red-800 pl-4"
                    type="s
            "
                  >x</button>
                </form>
              </td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    {{else}}
      <p>No Messages</p>
    {{/if}}
  </div>

  <div class="flex space-x-12 mt-8 justify-center">
    <a
      class="text-xs bg-blue-500 text-white p-2 rounded hover:text-white hover:bg-blue-800 self-center"
      href="/adverts"
    >Go Back</a>

    <a
      href="#"
      id="message{{@index}}"
      onclick="return false"
      class="open-button font-bold bg-yellow-400 px-2 py-1 rounded text-white hover:text-white hover:bg-yellow-600"
    >Write a message</a>

  </div>
         <dialog class="modal p-4" id="message{{@index}}">
    <form action="/sendMessage" method="POST" class="flex flex-col">
      <h2 class="text-2xl mb-4" style="color: #08415c;">Message</h2>

      <label for="recipient" class="flex flex-col">
        <span class="text-sm mb-1" style="color: #08415c;">Recipient:</span>
        <input
          type="text"
          name="recipient"
          required
          id="recipient"
          class="border rounded py-2 px-3"
        />
      </label>

      <label for="subject" class="flex flex-col">
        <span class="text-sm mb-1" style="color: #08415c;">Subject:</span>
        <input
          type="text"
          name="subject"
          required
          id="subject"
          class="border rounded py-2 px-3"
        />
      </label>

      <label for="message" class="flex flex-col mb-2 rounded">
        <span
          class="text-sm mb-2 rounded"
          style="color: #08415c;"
        >Message:</span>
        <textarea
          class="rounded"
          name="message"
          id="message"
          rows="5"
        ></textarea>
      </label>

      <button
        type="submit"
        class="mb-2 font-bold bg-yellow-400 px-2 py-1 rounded text-white hover:text-white hover:bg-yellow-600"
      >Send Message</button>

      <button
        type="button"
        class="close-button bg-gray-300 text-gray-700 py-2 px-4 rounded"
      >Close</button>
    </form>
  </dialog>
</section>